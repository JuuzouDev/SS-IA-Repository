{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nexport default {\n  __name: 'asistente_virt',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const newMessage = ref('');\n    const isTyping = ref(false);\n\n    // Historial inicial\n    const chatHistory = ref([{\n      role: 'assistant',\n      content: '¡Hola! Soy el asistente inteligente de la FESC. Puedo ayudarte con dudas sobre el servicio social o búsqueda de proyectos de IA. ¿En qué puedo apoyarte?',\n      time: '10:00 AM'\n    }]);\n\n    // Función temporal para simular la respuesta (Mockup)\n    const simulateReply = () => {\n      if (!newMessage.value.trim()) return;\n      const currentTime = new Date().toLocaleTimeString([], {\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n\n      // 1. Agregar mensaje del usuario\n      chatHistory.value.push({\n        role: 'user',\n        content: newMessage.value,\n        time: currentTime\n      });\n      const userQuery = newMessage.value;\n      newMessage.value = '';\n      isTyping.value = true;\n\n      // 2. Simular espera del servidor y respuesta\n      setTimeout(() => {\n        isTyping.value = false;\n        chatHistory.value.push({\n          role: 'assistant',\n          content: `Esta es una respuesta simulada a: \"${userQuery}\". Muy pronto estaré conectado al motor de Gemini en el backend.`,\n          time: new Date().toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n          })\n        });\n      }, 1500);\n    };\n    const __returned__ = {\n      newMessage,\n      isTyping,\n      chatHistory,\n      simulateReply,\n      ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","newMessage","isTyping","chatHistory","role","content","time","simulateReply","value","trim","currentTime","Date","toLocaleTimeString","hour","minute","push","userQuery","setTimeout"],"sources":["C:/ServicioSocial/SS-IA-Repository/ss-ia-repo/src/views/secure/asistente_virt.vue"],"sourcesContent":["<template>\r\n  <v-container fluid class=\"fill-height bg-grey-lighten-4 pa-0\">\r\n    <v-row no-gutters class=\"fill-height\">\r\n      <v-col cols=\"12\" class=\"d-flex flex-column fill-height\">\r\n        \r\n        <v-toolbar color=\"white\" border=\"b\" flat>\r\n          <v-avatar color=\"primary\" size=\"40\" class=\"ml-4\">\r\n            <v-icon color=\"white\">mdi-robot-outline</v-icon>\r\n          </v-avatar>\r\n          <v-toolbar-title class=\"font-weight-bold\">Asistente Virtual FESC-IA</v-toolbar-title>\r\n          <v-spacer></v-spacer>\r\n          <v-btn icon=\"mdi-dots-vertical\"></v-btn>\r\n        </v-toolbar>\r\n\r\n        <v-container class=\"flex-grow-1 overflow-y-auto pa-4\" style=\"max-height: calc(100vh - 140px);\">\r\n          <div v-for=\"(message, index) in chatHistory\" :key=\"index\" \r\n               :class=\"['d-flex mb-4', message.role === 'user' ? 'justify-end' : 'justify-start']\">\r\n            \r\n            <v-card\r\n              :color=\"message.role === 'user' ? 'primary' : 'white'\"\r\n              :theme=\"message.role === 'user' ? 'dark' : 'light'\"\r\n              elevation=\"1\"\r\n              max-width=\"80%\"\r\n              :class=\"['pa-3', message.role === 'user' ? 'rounded-be-0' : 'rounded-bs-0']\"\r\n            >\r\n              <div class=\"text-body-1\">{{ message.content }}</div>\r\n              <div class=\"text-caption mt-1 opacity-70 text-right\">\r\n                {{ message.time }}\r\n              </div>\r\n            </v-card>\r\n          </div>\r\n\r\n          <div v-if=\"isTyping\" class=\"d-flex justify-start mb-4\">\r\n            <v-card color=\"white\" elevation=\"1\" class=\"pa-3 rounded-bs-0\">\r\n              <v-progress-circular indeterminate size=\"20\" width=\"2\" color=\"primary\"></v-progress-circular>\r\n              <span class=\"ml-2 text-caption\">Gemini está procesando...</span>\r\n            </v-card>\r\n          </div>\r\n        </v-container>\r\n\r\n        <v-footer app color=\"white\" border=\"t\" class=\"pa-2\">\r\n          <v-container class=\"pa-0\">\r\n            <v-row no-gutters align=\"center\">\r\n              <v-col>\r\n                <v-text-field\r\n                  v-model=\"newMessage\"\r\n                  placeholder=\"Escribe tu consulta aquí...\"\r\n                  variant=\"solo-filled\"\r\n                  flat\r\n                  hide-details\r\n                  @keyup.enter=\"simulateReply\"\r\n                  rounded=\"lg\"\r\n                >\r\n                  <template v-slot:append-inner>\r\n                    <v-btn\r\n                      icon=\"mdi-send\"\r\n                      variant=\"text\"\r\n                      color=\"primary\"\r\n                      :disabled=\"!newMessage.trim() || isTyping\"\r\n                      @click=\"simulateReply\"\r\n                    ></v-btn>\r\n                  </template>\r\n                </v-text-field>\r\n              </v-col>\r\n            </v-row>\r\n          </v-container>\r\n        </v-footer>\r\n\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue';\r\n\r\n\r\n\r\nconst newMessage = ref('');\r\nconst isTyping = ref(false);\r\n\r\n// Historial inicial\r\nconst chatHistory = ref([\r\n  { \r\n    role: 'assistant', \r\n    content: '¡Hola! Soy el asistente inteligente de la FESC. Puedo ayudarte con dudas sobre el servicio social o búsqueda de proyectos de IA. ¿En qué puedo apoyarte?', \r\n    time: '10:00 AM' \r\n  }\r\n]);\r\n\r\n// Función temporal para simular la respuesta (Mockup)\r\nconst simulateReply = () => {\r\n  if (!newMessage.value.trim()) return;\r\n\r\n  const currentTime = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n\r\n  // 1. Agregar mensaje del usuario\r\n  chatHistory.value.push({\r\n    role: 'user',\r\n    content: newMessage.value,\r\n    time: currentTime\r\n  });\r\n\r\n  const userQuery = newMessage.value;\r\n  newMessage.value = '';\r\n  isTyping.value = true;\r\n\r\n  // 2. Simular espera del servidor y respuesta\r\n  setTimeout(() => {\r\n    isTyping.value = false;\r\n    chatHistory.value.push({\r\n      role: 'assistant',\r\n      content: `Esta es una respuesta simulada a: \"${userQuery}\". Muy pronto estaré conectado al motor de Gemini en el backend.`,\r\n      time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\r\n    });\r\n  }, 1500);\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Estilo para que el contenedor de mensajes ocupe el espacio disponible */\r\n.fill-height {\r\n  height: 100vh;\r\n}\r\n\r\n/* Personalización de los bordes para estilo burbuja de chat */\r\n.rounded-be-0 {\r\n  border-bottom-right-radius: 0 !important;\r\n}\r\n.rounded-bs-0 {\r\n  border-bottom-left-radius: 0 !important;\r\n}\r\n</style>"],"mappings":";AA0EA,SAASA,GAAG,QAAQ,KAAK;;;;;;;IAIzB,MAAMC,UAAU,GAAGD,GAAG,CAAC,EAAE,CAAC;IAC1B,MAAME,QAAQ,GAAGF,GAAG,CAAC,KAAK,CAAC;;IAE3B;IACA,MAAMG,WAAW,GAAGH,GAAG,CAAC,CACtB;MACEI,IAAI,EAAE,WAAW;MACjBC,OAAO,EAAE,0JAA0J;MACnKC,IAAI,EAAE;IACR,CAAC,CACF,CAAC;;IAEF;IACA,MAAMC,aAAa,GAAGA,CAAA,KAAM;MAC1B,IAAI,CAACN,UAAU,CAACO,KAAK,CAACC,IAAI,CAAC,CAAC,EAAE;MAE9B,MAAMC,WAAW,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,EAAE,EAAE;QAAEC,IAAI,EAAE,SAAS;QAAEC,MAAM,EAAE;MAAU,CAAC,CAAC;;MAE7F;MACAX,WAAW,CAACK,KAAK,CAACO,IAAI,CAAC;QACrBX,IAAI,EAAE,MAAM;QACZC,OAAO,EAAEJ,UAAU,CAACO,KAAK;QACzBF,IAAI,EAAEI;MACR,CAAC,CAAC;MAEF,MAAMM,SAAS,GAAGf,UAAU,CAACO,KAAK;MAClCP,UAAU,CAACO,KAAK,GAAG,EAAE;MACrBN,QAAQ,CAACM,KAAK,GAAG,IAAI;;MAErB;MACAS,UAAU,CAAC,MAAM;QACff,QAAQ,CAACM,KAAK,GAAG,KAAK;QACtBL,WAAW,CAACK,KAAK,CAACO,IAAI,CAAC;UACrBX,IAAI,EAAE,WAAW;UACjBC,OAAO,EAAE,sCAAsCW,SAAS,kEAAkE;UAC1HV,IAAI,EAAE,IAAIK,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,EAAE,EAAE;YAAEC,IAAI,EAAE,SAAS;YAAEC,MAAM,EAAE;UAAU,CAAC;QAChF,CAAC,CAAC;MACJ,CAAC,EAAE,IAAI,CAAC;IACV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}