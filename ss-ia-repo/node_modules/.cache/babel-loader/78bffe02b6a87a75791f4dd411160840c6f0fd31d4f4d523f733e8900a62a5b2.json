{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, withKeys as _withKeys, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"text-body-1\"\n};\nconst _hoisted_2 = {\n  class: \"text-caption mt-1 opacity-70 text-right\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"d-flex justify-start mb-4\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_icon = _resolveComponent(\"v-icon\");\n  const _component_v_avatar = _resolveComponent(\"v-avatar\");\n  const _component_v_toolbar_title = _resolveComponent(\"v-toolbar-title\");\n  const _component_v_spacer = _resolveComponent(\"v-spacer\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_toolbar = _resolveComponent(\"v-toolbar\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  const _component_v_progress_circular = _resolveComponent(\"v-progress-circular\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_footer = _resolveComponent(\"v-footer\");\n  return _openBlock(), _createBlock(_component_v_container, {\n    fluid: \"\",\n    class: \"fill-height bg-grey-lighten-4 pa-0\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_row, {\n      \"no-gutters\": \"\",\n      class: \"fill-height\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_col, {\n        cols: \"12\",\n        class: \"d-flex flex-column fill-height\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_toolbar, {\n          color: \"white\",\n          border: \"b\",\n          flat: \"\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_v_avatar, {\n            color: \"primary\",\n            size: \"40\",\n            class: \"ml-4\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_v_icon, {\n              color: \"white\"\n            }, {\n              default: _withCtx(() => [...(_cache[1] || (_cache[1] = [_createTextVNode(\"mdi-robot-outline\", -1 /* CACHED */)]))]),\n              _: 1 /* STABLE */\n            })]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_v_toolbar_title, {\n            class: \"font-weight-bold\"\n          }, {\n            default: _withCtx(() => [...(_cache[2] || (_cache[2] = [_createTextVNode(\"Asistente Virtual FESC-IA\", -1 /* CACHED */)]))]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_v_spacer), _createVNode(_component_v_btn, {\n            icon: \"mdi-dots-vertical\"\n          })]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_container, {\n          class: \"flex-grow-1 overflow-y-auto pa-4\",\n          style: {\n            \"max-height\": \"calc(100vh - 140px)\"\n          }\n        }, {\n          default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.chatHistory, (message, index) => {\n            return _openBlock(), _createElementBlock(\"div\", {\n              key: index,\n              class: _normalizeClass(['d-flex mb-4', message.role === 'user' ? 'justify-end' : 'justify-start'])\n            }, [_createVNode(_component_v_card, {\n              color: message.role === 'user' ? 'primary' : 'white',\n              theme: message.role === 'user' ? 'dark' : 'light',\n              elevation: \"1\",\n              \"max-width\": \"80%\",\n              class: _normalizeClass(['pa-3', message.role === 'user' ? 'rounded-be-0' : 'rounded-bs-0'])\n            }, {\n              default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, _toDisplayString(message.content), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_2, _toDisplayString(message.time), 1 /* TEXT */)]),\n              _: 2 /* DYNAMIC */\n            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"color\", \"theme\", \"class\"])], 2 /* CLASS */);\n          }), 128 /* KEYED_FRAGMENT */)), $setup.isTyping ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createVNode(_component_v_card, {\n            color: \"white\",\n            elevation: \"1\",\n            class: \"pa-3 rounded-bs-0\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_v_progress_circular, {\n              indeterminate: \"\",\n              size: \"20\",\n              width: \"2\",\n              color: \"primary\"\n            }), _cache[3] || (_cache[3] = _createElementVNode(\"span\", {\n              class: \"ml-2 text-caption\"\n            }, \"Gemini está procesando...\", -1 /* CACHED */))]),\n            _: 1 /* STABLE */\n          })])) : _createCommentVNode(\"v-if\", true)]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_footer, {\n          app: \"\",\n          color: \"white\",\n          border: \"t\",\n          class: \"pa-2\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_v_container, {\n            class: \"pa-0\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_v_row, {\n              \"no-gutters\": \"\",\n              align: \"center\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_col, null, {\n                default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                  modelValue: $setup.newMessage,\n                  \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.newMessage = $event),\n                  placeholder: \"Escribe tu consulta aquí...\",\n                  variant: \"solo-filled\",\n                  flat: \"\",\n                  \"hide-details\": \"\",\n                  onKeyup: _withKeys($setup.simulateReply, [\"enter\"]),\n                  rounded: \"lg\"\n                }, {\n                  \"append-inner\": _withCtx(() => [_createVNode(_component_v_btn, {\n                    icon: \"mdi-send\",\n                    variant: \"text\",\n                    color: \"primary\",\n                    disabled: !$setup.newMessage.trim() || $setup.isTyping,\n                    onClick: $setup.simulateReply\n                  }, null, 8 /* PROPS */, [\"disabled\"])]),\n                  _: 1 /* STABLE */\n                }, 8 /* PROPS */, [\"modelValue\"])]),\n                _: 1 /* STABLE */\n              })]),\n              _: 1 /* STABLE */\n            })]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createBlock","_component_v_container","fluid","_createVNode","_component_v_row","_component_v_col","cols","_component_v_toolbar","color","border","flat","_component_v_avatar","size","_component_v_icon","_cache","_component_v_toolbar_title","_component_v_spacer","_component_v_btn","icon","style","_createElementBlock","_Fragment","_renderList","$setup","chatHistory","message","index","key","_normalizeClass","role","_component_v_card","theme","elevation","_createElementVNode","_hoisted_1","_toDisplayString","content","_hoisted_2","time","isTyping","_hoisted_3","_component_v_progress_circular","indeterminate","width","_component_v_footer","app","align","_component_v_text_field","newMessage","$event","placeholder","variant","onKeyup","_withKeys","simulateReply","rounded","_withCtx","disabled","trim","onClick"],"sources":["C:\\ServicioSocial\\SS-IA-Repository\\ss-ia-repo\\src\\views\\secure\\asistente_virt.vue"],"sourcesContent":["<template>\r\n  <v-container fluid class=\"fill-height bg-grey-lighten-4 pa-0\">\r\n    <v-row no-gutters class=\"fill-height\">\r\n      <v-col cols=\"12\" class=\"d-flex flex-column fill-height\">\r\n        \r\n        <v-toolbar color=\"white\" border=\"b\" flat>\r\n          <v-avatar color=\"primary\" size=\"40\" class=\"ml-4\">\r\n            <v-icon color=\"white\">mdi-robot-outline</v-icon>\r\n          </v-avatar>\r\n          <v-toolbar-title class=\"font-weight-bold\">Asistente Virtual FESC-IA</v-toolbar-title>\r\n          <v-spacer></v-spacer>\r\n          <v-btn icon=\"mdi-dots-vertical\"></v-btn>\r\n        </v-toolbar>\r\n\r\n        <v-container class=\"flex-grow-1 overflow-y-auto pa-4\" style=\"max-height: calc(100vh - 140px);\">\r\n          <div v-for=\"(message, index) in chatHistory\" :key=\"index\" \r\n               :class=\"['d-flex mb-4', message.role === 'user' ? 'justify-end' : 'justify-start']\">\r\n            \r\n            <v-card\r\n              :color=\"message.role === 'user' ? 'primary' : 'white'\"\r\n              :theme=\"message.role === 'user' ? 'dark' : 'light'\"\r\n              elevation=\"1\"\r\n              max-width=\"80%\"\r\n              :class=\"['pa-3', message.role === 'user' ? 'rounded-be-0' : 'rounded-bs-0']\"\r\n            >\r\n              <div class=\"text-body-1\">{{ message.content }}</div>\r\n              <div class=\"text-caption mt-1 opacity-70 text-right\">\r\n                {{ message.time }}\r\n              </div>\r\n            </v-card>\r\n          </div>\r\n\r\n          <div v-if=\"isTyping\" class=\"d-flex justify-start mb-4\">\r\n            <v-card color=\"white\" elevation=\"1\" class=\"pa-3 rounded-bs-0\">\r\n              <v-progress-circular indeterminate size=\"20\" width=\"2\" color=\"primary\"></v-progress-circular>\r\n              <span class=\"ml-2 text-caption\">Gemini está procesando...</span>\r\n            </v-card>\r\n          </div>\r\n        </v-container>\r\n\r\n        <v-footer app color=\"white\" border=\"t\" class=\"pa-2\">\r\n          <v-container class=\"pa-0\">\r\n            <v-row no-gutters align=\"center\">\r\n              <v-col>\r\n                <v-text-field\r\n                  v-model=\"newMessage\"\r\n                  placeholder=\"Escribe tu consulta aquí...\"\r\n                  variant=\"solo-filled\"\r\n                  flat\r\n                  hide-details\r\n                  @keyup.enter=\"simulateReply\"\r\n                  rounded=\"lg\"\r\n                >\r\n                  <template v-slot:append-inner>\r\n                    <v-btn\r\n                      icon=\"mdi-send\"\r\n                      variant=\"text\"\r\n                      color=\"primary\"\r\n                      :disabled=\"!newMessage.trim() || isTyping\"\r\n                      @click=\"simulateReply\"\r\n                    ></v-btn>\r\n                  </template>\r\n                </v-text-field>\r\n              </v-col>\r\n            </v-row>\r\n          </v-container>\r\n        </v-footer>\r\n\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue';\r\n\r\n\r\n\r\nconst newMessage = ref('');\r\nconst isTyping = ref(false);\r\n\r\n// Historial inicial\r\nconst chatHistory = ref([\r\n  { \r\n    role: 'assistant', \r\n    content: '¡Hola! Soy el asistente inteligente de la FESC. Puedo ayudarte con dudas sobre el servicio social o búsqueda de proyectos de IA. ¿En qué puedo apoyarte?', \r\n    time: '10:00 AM' \r\n  }\r\n]);\r\n\r\n// Función temporal para simular la respuesta (Mockup)\r\nconst simulateReply = () => {\r\n  if (!newMessage.value.trim()) return;\r\n\r\n  const currentTime = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n\r\n  // 1. Agregar mensaje del usuario\r\n  chatHistory.value.push({\r\n    role: 'user',\r\n    content: newMessage.value,\r\n    time: currentTime\r\n  });\r\n\r\n  const userQuery = newMessage.value;\r\n  newMessage.value = '';\r\n  isTyping.value = true;\r\n\r\n  // 2. Simular espera del servidor y respuesta\r\n  setTimeout(() => {\r\n    isTyping.value = false;\r\n    chatHistory.value.push({\r\n      role: 'assistant',\r\n      content: `Esta es una respuesta simulada a: \"${userQuery}\". Muy pronto estaré conectado al motor de Gemini en el backend.`,\r\n      time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\r\n    });\r\n  }, 1500);\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Estilo para que el contenedor de mensajes ocupe el espacio disponible */\r\n.fill-height {\r\n  height: 100vh;\r\n}\r\n\r\n/* Personalización de los bordes para estilo burbuja de chat */\r\n.rounded-be-0 {\r\n  border-bottom-right-radius: 0 !important;\r\n}\r\n.rounded-bs-0 {\r\n  border-bottom-left-radius: 0 !important;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}